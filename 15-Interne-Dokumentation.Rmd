# Interne Dokumentation

Dieses Repository enthält alle Dateien, die für die Erstellung der RLernplattform notwendig sind.
Die Webseite ist als Bookdown Projekt angelegt und kann beliebig erweitert und überarbeitet werden.

## Was finde ich im Projekt?

Die wichtigsten Dokumente sind die RMarkdown-Dateien. Diese enden mit .Rmd und in ihnen sind die 
tatsächlichen Inhalte der Website gespeichert. Beispielsweise findest Du in "01-Installation.Rmd"
die Infos zur Installation von R und RStudio. Im Dokument "02-Einfuehrung_in_R.Rmd" befinden sich   
dann die Einführung in R. Die Dateinamen der Rmd Dateien beginnen immer mit einer Zahl (01, 02, ...).
Diese Zahl gibt an, in welcher Reihenfolge die Themen auf unserer Webseite auftauchen sollen. So kann 
man durch einfaches Umbenennen der Dateien auch die Reihenfolge der Themen verändern oder neue Themen einfügen.

Im Ordner "figures" befinden sich alle Bilder, die in der Webseite eingebunden sind. Beispielsweise befinden 
sich im Unterornder Daten-importieren/Bilder alle Bilder des Themas Daten importieren.

Im Ordner "data" befinden sich alle Datensätze, die zur Erstellung der Webseite notwendig sind. Diese werden 
in den Beispiel-Analysen verwendet (z.B. um das Einlesen von Datensätzen zu veanschaulichen).

Die restlichen Dateien sind notwendig für Bookdown. Den größten Teil hiervon können wir ignorieren. Für uns 
(manchmal) relevant sind hier eigentlich nur "style.css" und "DESCRIPTION". In "style.css" wird das Aussehen der 
Webseite definiert. Diese Datei ist aktuell einfach von der alten Webseite übernommen, was dazu führt, dass der
bisherige Stil beibehalten wird. In "DESCRIPTION" geben wir (unter anderem) an, welche R Pakete wir 
in den einzelnen .Rmd Dateien nutzen. Wenn wir beispielsweise lavaan nutzen wollen, müssen wir hier lavaan zu
den Paketen hinzufügen (siehe unten). Wenn wir das vergessen, kommt es zu Fehlern beim erstellen der Webseite!

## Themen bearbeiten

Themen können entweder direkt auf GitHub bearbeitet werden oder lokal auf dem eigenen Rechner. Wenn Du 
Themen auf Deinem Rechner bearbeiten möchtest, musst Du Dich mit git und GitHub auskennen. Im Folgenden 
werden wir uns auf die Bearbeitung direkt in GitHub konzentrieren. 

Angenommen Dir fällt ein Fehler in der Einführung in R auf. Um den Fehler zu beheben, öffne das Dokument 
"02-Einfuehrung_in_R.Rmd" in GitHub. 

![](figures/documentation/open_rmd.png)

Anschließend kannst Du die Datei bearbeiten, indem Du auf den Stift klickst:

![](figures/documentation/change_rmd.png)

Du kannst nun das Dokument verändern. Wenn Du alle Veränderungen vorgenommen hast, dann klicke auf commit (scrolle nach ganz unten).

![](figures/documentation/commit_rmd.png)

Die Veränderungen sind nun gespeichert! **Wichtig**: Die Webseite wird nicht automatisch aktualisiert. 
Hier ist zur Zeit noch etwas Handarbeit erfordert.

### Bilder einfügen


## Neues Thema erstellen

Um ein Thema hinzuzufügen, öffne die Datei RLernplattform.Rproj mit RStudio. 
Unter Files siehst Du nun alle aktuellen Themen als .Rmd Dateien. Öffne beispielsweise
die Datei "01-Installation.Rmd". Diese enthält den Text, aus dem das erste Thema
der Webseite erstellt wird. Um ein neues Thema zu erstellen, kannst Du entweder
in RStudio Unter File > New File > RMarkdown ein neues RMarkdown erstellen und diese
Datei im RLernplattform-Ordner speichern oder Du erstellst einfach eine Kopie einer
bestehende Datei (z.B. "01-Installation.Rmd") und löscht den bisherigen Inhalt.
Wichtig ist, dass:

1. Deine Datei mit einer Überschrift 1. Ordnung anfängt. Diese erstellst Du mit
`# Dies ist meine Überschrift`. 
2. Der Name Deiner RMarkdown Datei mit einer Zahl anfängt. Die Zahl bestimmt, an
welcher Stelle Dein neues Thema auf der Webseite aufgeführt wird (z.B. ist 01-Installation.Rmd)
das erste Thema, weil es die kleinste Zahl hat.

Anschließend kannst Du deine RMarkdown Datei mit Inhalten füllen.

## Daten hinzufügen

Wenn Du einen Datensatz für Deine RMarkdown-Datei brauchst, der nicht in R oder
einem Paket enthalten ist, dann speichere diesen im Ordner "data". Anschließend
kannst Du ihn folgendermaßen in Deiner RMarkdown Datei einlesen: 
```{r,eval=FALSE}
mein_datensatz <- read.csv("data/mein_datensatz.csv")
```

## Bilder hinzufügen

Wenn Du Bilder für Deine RMarkdown-Datei brauchst, dann speichere diese 
im Ordner "figures". Anschließend kannst Du diese beispielsweise folgendermaßen
nutzen:

```
![](figures/mein_bild.png)
```

## Links hinzufügen

Wenn Du intern auf ein anderes Thema referenzieren möchtest, kannst Du einen
Link einfügen. Dies geht mit:

```
[text, den die Leser:innen sehen][Überschrift des Themas, auf das verlinkt werden soll]
```

Beispielsweise führt folgender Link zur [R Einführung][Einführung in R].
Als Rohtext steht hier:

```
Beispielsweise führt folgender Link zur [R Einführung][Einführung in R].
```

## Paket hinzufügen

Wenn Dein neues Thema auch ein neues R-Paket benötigt, dann musst Du dieses
im Dokument `DESCRIPTION` zu `Imports:` hinzufügen (so wie beispielsweise dplyr).

Will nun jemand die Webseite erstellen, dann kann diese Person erst [alle Dependencies
installieren][Alle Dependencies installieren].

## Webseite erstellen

Um die Webseite zu erstellen, gehe auf Build > Build Book. Wichtig ist, dass 
eine html Seite erstellt wird und nicht ein pdf. Falls RStudio fälschlicherweise
versucht ein pdf zu erstellen, dann klicke auf den kleinen Pfeil neben Build Book
und wähle bookdown::gitbook.

### Alle Dependencies installieren

Solltest Du nicht alle Pakete installiert haben, die auf der Webseite genutzt werden,
kannst Du entweder die Datei `DESCRIPTION` öffnen und alle dort aufgeführten Pakete 
installieren oder Du öffnest die Datei `RLernplattform.Rproj` in RStudio und führst
folgenden Code aus:
```{r, eval = FALSE}
if(!require("devtools"))
  install.packages("devtools")
library("devtools")
devtools::install_deps()
```

## Webseite updaten

TODO: Dokumentation des Updatens der Webseite.
